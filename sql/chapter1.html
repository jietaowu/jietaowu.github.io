<!DOCTYPE html>
<html lang="en">
    <head>
        <title>关于MySQL基础知识</title>
        <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
                    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
                    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
                    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/agate.min.css">
                            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
                            <script>
                                $(document).ready(function() {
                                    $('pre code').each(function(i, block) {
                                        hljs.highlightBlock(block);
                                    });
                                });
                            </script>
                            </head>
    <style>
        a{
            color: white;
            
        }
    
    
    span{
        color: white;
    }
    
    .top-buffer{
        margin-top: 40px;
    }
    
    /* Make the image fully responsive */
    .carousel-inner img {
        width: 100%;
        height: 100%;
    }
    
    .qq_barcode{
        
        width: 100%;
        height: 20%;
        
    }
    
    .link-space{
        margin: 0 10px;
    }
    

    pre{
        white-space: pre-line;
    }
     
    
    </style>
    
    
    <body style="background-color: .white ">
        
        
        
        
    
            
        <h3>关于MySQL基础知识</h3>
        
           
            <h4>基础的概念</h4>
            
       <ul>
           <li>数据库(database): 保存有组织的数据库。</li>
           <li>表(table) : 特定类型的数据结果化清单。</li>
       </ul>

       <p>存储在表中的数据是一种类型的数据或者一个清单的数据</p>
       <ul>
           <li>模式(schema) 关于数据库和表的布局及特性</li>
           <li>列(colomn) 表中的一个字段，所以表的不由一个或者多个列组成。</li>
       </ul>

       <p>理解列最后的办法，是想象成一个网络，网络中每一列存储着一个特定信息。</p>
       <ul>
           <li>数据类型(datatype) 所容许的数据类型，每个类别都有相应的数据类型，用来限制该列中允许的类型</li>
           <li>行(row)：表中的数据是按行存储的，把表想象成网络，垂直的列，水平为行。</li>
           <li>主键(primary key): 表中每一行都应该有可以唯一标识自己的列，一列中唯一能够识别表中的每一行的值。在设计表是应该总是设计带有主键，设置为主键瞒着的条件为：</li>
           <ul>
            <li>任意两行都带有相同的值</li>
            <li>每个行都必须带有主键值</li>
            <li>主键列中的值不允许修改更新</li>
            <li>主键值不能重用。</li>

           </ul>

       </ul>

       <h4>样例表</h4>
       <p>创建一个练习用的样例表格，一共5张表，表的内容用途</p>
       <ul>
           <li>管理供应商</li>
           <li>管理产品目录</li>
           <li>管理客户列表</li>
           <li>录入客户订单</li>
       </ul>

       <p>新建一个数据库</p>
       <pre>
           <code class="sql">
mysql> CREATE DATABASE SQL_Learning;
Query OK, 1 row affected (0.01 sec)
           </code>
       </pre>
       <p>新建Vendors表存储卖产品的供应商。</p>
       <p>先切换到该数据库</p>
       <pre>
           <code class="sql">
mysql> USE SQL_Learning;
Database changed

mysql> CREATE TABLE Vendors
    -> (
    ->   vend_id      char(10) NOT NULL ,
    ->   vend_name    char(50) NOT NULL ,
    ->   vend_address char(50) NULL ,
    ->   vend_city    char(50) NULL ,
    ->   vend_state   char(5)  NULL ,
    ->   vend_zip     char(10) NULL ,
    ->   vend_country char(50) NULL
    -> );
Query OK, 0 rows affected (0.08 sec)
           </code>
       </pre>

       <ul>
           <li>prod_id 主键</li>
           <li>vend_id 外键，与供应商ID关联</li>
           <li>decimal(8,2) 作为字符串存储的 DOUBLE 类型，允许固定的小数点。</li>
        </ul>
<p>创建Customers 表</p>
<pre>
    <code class="sql">
mysql> CREATE TABLE Customers
    -> (
    ->   cust_id      char(10)  NOT NULL ,
    ->   cust_name    char(50)  NOT NULL ,
    ->   cust_address char(50)  NULL ,
    ->   cust_city    char(50)  NULL ,
    ->   cust_state   char(5)   NULL ,
    ->   cust_zip     char(10)  NULL ,
    ->   cust_country char(50)  NULL ,
    ->   cust_contact char(50)  NULL ,
    ->   cust_email   char(255) NULL
    -> );
Query OK, 0 rows affected (0.05 sec)
    </code>
</pre>

<ul>
   <li>cust_id 主键</li>
</ul>

<p>创建Orders表，一行一个产品</p>

<pre>
    <code class="sql">
mysql> CREATE TABLE Orders
    -> (
    ->   order_num  int      NOT NULL ,
    ->   order_date datetime NOT NULL ,
    ->   cust_id    char(10) NOT NULL
    -> );
Query OK, 0 rows affected (0.04 sec)
    </code>
</pre>
            
       
<ul>
    <li>order_num 主键</li>
    <li>cust_id 外键，关联Customers ID</li>
</ul>

<p>OrderItems表 存储每个订单的实际物品。</p>

<code class="sql">
mysql> CREATE TABLE OrderItems
    -> (
    ->   order_num  int          NOT NULL ,
    ->   order_item int          NOT NULL ,
    ->   prod_id    char(10)     NOT NULL ,
    ->   quantity   int          NOT NULL ,
    ->   item_price decimal(8,2) NOT NULL
    -> );
Query OK, 0 rows affected (0.02 sec)
</code>

<ul>
    <li>order_num 订单号，关联到Orders 表的order_num</li>
    <li>order_item 订单物品号</li>
    <li>prod_id 产品ID</li>
    <li>quantity 产品数量</li>
    <li>item_price 产品的价格</li>
</ul>

<p>创建primary key 主键</p>

<pre>
    <code class="sql">
ALTER TABLE Customers ADD PRIMARY KEY (cust_id);
ALTER TABLE OrderItems ADD PRIMARY KEY (order_num, order_item);
ALTER TABLE Orders ADD PRIMARY KEY (order_num);
ALTER TABLE Products ADD PRIMARY KEY (prod_id);
ALTER TABLE Vendors ADD PRIMARY KEY (vend_id);
    </code>
</pre>

<p>创建foreign key外键，指向另一个表PRIMARY KEY主键</p>     

<pre>
    <code class="sql">
ALTER TABLE OrderItems ADD CONSTRAINT FK_OrderItems_Orders FOREIGN KEY (order_num) REFERENCES Orders (order_num);
    </code>
</pre>

<ul>
    <li>把OrderItems 表中的order_num关联到Orders表中的order_num</li>
</ul>

<pre>
    <code class="sql">
ALTER TABLE OrderItems ADD CONSTRAINT FK_OrderItems_Products FOREIGN KEY (prod_id) REFERENCES Products (prod_id);
    </code>
</pre>

<ul>
    <li>把OrderItems 表中的prod_id关联到Products 表中的prod_id</li>
</ul>

<pre>
    <code class="sql">
ALTER TABLE Orders ADD CONSTRAINT FK_Orders_Customers FOREIGN KEY (cust_id) REFERENCES Customers (cust_id);
    </code>
</pre>

<ul>
    <li>把Orders 表中的cust_id 关联到Customers 表中的cust_id</li>
</ul>

<pre>
    <code class="sql">
ALTER TABLE Products ADD CONSTRAINT FK_Products_Vendors FOREIGN KEY (vend_id) REFERENCES Vendors (vend_id);
    </code>
</pre>

<ul>
    <li>把Products 表中的vend_id 关联到Vendors中的vend_id</li>
</ul>

    
        
        
        
        
    </body>
</html>


